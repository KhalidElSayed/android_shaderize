
precision mediump float;

uniform sampler2D sTexture;

varying vec4 vNormal;
varying vec4 vColor;
varying vec2 vTextureCoord;

void main() {
	vec4 normal = texture2D(sTexture, vTextureCoord);
	normal = (normal - 0.5) * 2.0;
	normal = vNormal * normal;
	
	gl_FragColor = vColor * normal.z;
}
